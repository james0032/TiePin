<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <!-- Title -->
  <text x="400" y="30" font-size="20" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    Problem: Explaining Link Prediction Decisions
  </text>
  
  <!-- Question Box -->
  <rect x="250" y="50" width="300" height="60" fill="#e74c3c" opacity="0.1" stroke="#e74c3c" stroke-width="2" rx="5"/>
  <text x="400" y="75" font-size="16" font-weight="bold" text-anchor="middle" fill="#e74c3c">
    ❓ Why did the model predict
  </text>
  <text x="400" y="95" font-size="16" font-weight="bold" text-anchor="middle" fill="#e74c3c">
    this edge exists?
  </text>
  
  <!-- Pipeline Flow -->
  <text x="150" y="150" font-size="14" font-weight="bold" fill="#34495e">Model Pipeline:</text>
  
  <!-- Step 1: Input Graph -->
  <rect x="150" y="170" width="180" height="120" fill="#3498db" opacity="0.2" stroke="#3498db" stroke-width="2" rx="5"/>
  <text x="240" y="200" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">Input Graph</text>
  <!-- Simple graph visualization -->
  <circle cx="190" cy="240" r="10" fill="#3498db"/>
  <circle cx="290" cy="240" r="10" fill="#3498db"/>
  <circle cx="240" cy="265" r="10" fill="#3498db"/>
  <line x1="190" y1="240" x2="290" y2="240" stroke="#3498db" stroke-width="2"/>
  <line x1="190" y1="240" x2="240" y2="265" stroke="#3498db" stroke-width="2"/>
  <line x1="290" y1="240" x2="240" y2="265" stroke="#3498db" stroke-width="2"/>
  <text x="240" y="220" font-size="11" text-anchor="middle" fill="#555">Training Data</text>
  
  <!-- Arrow -->
  <path d="M 335 230 L 415 230" stroke="#34495e" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Step 2: Link Prediction Model -->
  <rect x="420" y="170" width="230" height="120" fill="#9b59b6" opacity="0.2" stroke="#9b59b6" stroke-width="2" rx="5"/>
  <text x="535" y="200" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">Link Prediction Model</text>
  <text x="535" y="225" font-size="12" text-anchor="middle" fill="#555">(Black Box)</text>
  <!-- Neural network icon -->
  <circle cx="500" cy="250" r="6" fill="#9b59b6" opacity="0.6"/>
  <circle cx="520" cy="245" r="6" fill="#9b59b6" opacity="0.6"/>
  <circle cx="520" cy="260" r="6" fill="#9b59b6" opacity="0.6"/>
  <circle cx="550" cy="245" r="6" fill="#9b59b6" opacity="0.6"/>
  <circle cx="550" cy="260" r="6" fill="#9b59b6" opacity="0.6"/>
  <circle cx="570" cy="250" r="6" fill="#9b59b6" opacity="0.6"/>
  <line x1="506" y1="250" x2="514" y2="247" stroke="#9b59b6" stroke-width="1" opacity="0.4"/>
  <line x1="506" y1="250" x2="514" y2="258" stroke="#9b59b6" stroke-width="1" opacity="0.4"/>
  <line x1="526" y1="245" x2="544" y2="247" stroke="#9b59b6" stroke-width="1" opacity="0.4"/>
  <line x1="526" y1="260" x2="544" y2="258" stroke="#9b59b6" stroke-width="1" opacity="0.4"/>
  <line x1="556" y1="245" x2="564" y2="248" stroke="#9b59b6" stroke-width="1" opacity="0.4"/>
  <line x1="556" y1="260" x2="564" y2="252" stroke="#9b59b6" stroke-width="1" opacity="0.4"/>
  
  <!-- Prediction Result -->
  <rect x="200" y="310" width="400" height="50" fill="#27ae60" opacity="0.1" stroke="#27ae60" stroke-width="2" rx="5"/>
  <text x="400" y="335" font-size="14" font-weight="bold" text-anchor="middle" fill="#27ae60">
    Prediction: Edge (Node A, Node B) likely exists ✓
  </text>
  <text x="400" y="352" font-size="11" text-anchor="middle" fill="#555">
    Confidence: 0.87
  </text>
  
  <!-- The Gap/Problem -->
  <rect x="100" y="385" width="600" height="85" fill="#e74c3c" opacity="0.05" stroke="#e74c3c" stroke-width="2" stroke-dasharray="5,5" rx="5"/>
  <text x="400" y="410" font-size="15" font-weight="bold" text-anchor="middle" fill="#e74c3c">
    ❌ INTERPRETABILITY GAP
  </text>
  <text x="400" y="430" font-size="12" text-anchor="middle" fill="#555">
    Which training examples (edges, nodes, graph patterns) in the original graph
  </text>
  <text x="400" y="448" font-size="12" text-anchor="middle" fill="#555">
    most influenced this prediction? Why did the model predict this specific edge?
  </text>
  
  <!-- Solution with TracIn -->
  <rect x="100" y="490" width="600" height="90" fill="#2ecc71" opacity="0.1" stroke="#2ecc71" stroke-width="2" rx="5"/>
  <text x="400" y="515" font-size="15" font-weight="bold" text-anchor="middle" fill="#2ecc71">
    ✓ SOLUTION: Influence Tracing (TracIn-like methods)
  </text>
  <text x="400" y="537" font-size="12" text-anchor="middle" fill="#555">
    Trace gradient influence from prediction back to training data
  </text>
  <text x="400" y="555" font-size="12" text-anchor="middle" fill="#555">
    Identify: "This edge was predicted because of training examples X, Y, Z
  </text>
  <text x="400" y="570" font-size="12" text-anchor="middle" fill="#555">
    which share similar graph structures or node relationships"
  </text>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#34495e"/>
    </marker>
  </defs>
  
  <!-- Back arrow showing influence tracing -->
  <path d="M 120 520 Q 50 450 50 360 Q 50 320 150 300" stroke="#2ecc71" stroke-width="3" fill="none" marker-end="url(#arrowhead2)" stroke-dasharray="8,4"/>
  <text x="35" y="440" font-size="11" font-weight="bold" fill="#2ecc71">Trace</text>
  <text x="30" y="453" font-size="11" font-weight="bold" fill="#2ecc71">back</text>
  <text x="20" y="466" font-size="11" font-weight="bold" fill="#2ecc71">influence</text>
  
  <defs>
    <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#2ecc71"/>
    </marker>
  </defs>
</svg>